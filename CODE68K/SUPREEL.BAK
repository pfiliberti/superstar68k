
10 REM DRAW REEL FOR SLOT
20 GMODE 0
30 ORG 0,16384,0
40 WPR 0,0,0:WPR 0,1,0:AMOVE 0,0,0:AFRCT 0,640,-200
50 PALETTE 0,0,0,0 : I=1
60 FOR J=0 TO 63:PALETTE I,J,J,J
70 I=I+1:NEXT J
80 REM
90 REM READ IN Y COORDINATE AND COLOR NUMBER
100 FOR I=0 TO 360
110 INPUT Y
120 @(I)=Y-28: REM REELS START 22 FROM TOP (Y=50 1ST TIME)
130 INPUT C
140 C=C*256+C
150 WPR 0,0,C : REM SET COLOR 0
160 WPR 0,1,C : REM SET COLOR 1
165 F=158
170 AMOVE 0,10+F,-@(I):ALINE 0,98+F,-@(I): REM DRAW 1ST REEL
180 AMOVE 0,118+F,-@(I):ALINE 0,206+F,-@(I): REM DRAW 2ND REEL
190 AMOVE 0,226+F,-@(I):ALINE 0,314+F,-@(I): REM DRAW 3RD REEL
200 NEXT I
205 GOSUB 430: REM FILL IN SCREEN
210 REM SETUP PALETTE
215 J=40:FOR I=64 TO 76:PALETTE I,J,0,0:J=J+1:NEXT I
220 FOR I=77 TO 88: PALETTE I,RND(63),RND(63),RND(63):NEXT I
240 REM
250 GOSUB 600: REM SET PALETTE FOR PAYOUT TABLE
300 REM
310 REM
320 REM NOW MOVE OBJECTS ONTO REEL
330 REM
345 FOR I=0 TO 29:REM SCROLL DOWN ONE OBJECT
350 FOR J=1 TO 8
360 Y=-I
370 WPR 0,8,10+F:WPR 0,9,-98:WPR 0,10,314+F:WPR 0,11,-23:REM AREA TO DRAW IN
377 AMOVE 0,27+F,Y
379 AGCPY 1,$65,1,-201,50,-19: REM COPY OBJECT 1
381 AMOVE 0,27+F,-29+Y
383 AGCPY 1,$65,1,-223,50,-19: REM COPY OBJECT 2
385 AMOVE 0,27+F,-58+Y
387 AGCPY 1,$65,1,-245,50,-19: REM COPY OBJECT 3
389 AMOVE 0,27+F,-87+Y
391 AGCPY 1,$65,1,-267,50,-19: REM COPY OBJECT 4
393 WPR 0,2,$FFFF:REM COLOR COMPARISON REGISTER
395 AMOVE 0,10+F,-22
397 AGCPY 1,4,118+F,-22,88,-80: REM REDRAW REEL
398 AMOVE 0,226+F,-22:AGCPY 1,0,10+F,-22,88,-80:REM MOVE TO 3RD REEL
405 NEXT J:NEXT I
410 REM
420 STOP
425 REM
430 REM FILL IN AROUND REELS USING PATTERN MEMORY
440 REM
450 WPR 0,0,87: REM COLOR 1
460 WPR 0,1,75: REM COLOR 2
470 WPR 0,8,10+F:WPR 0,9,-98:WPR 0,10,314+F:WPR 0,11,-20:REM AREA TO DRAW IN
480 WPOKE $A0000,1:WPOKE $A0002,$1800:WPOKE $A0002,16
490 FOR X=1 TO 4:WPOKE $A0002,$AAAA:WPOKE $A0002,$AAAA
500 WPOKE $A0002,$5555:WPOKE $A0002,$5555:NEXT X
510 AMOVE 0,0,0
520 AFRCT $C0,640,-200
530 RETURN
600 REM SET PALETTE FOR PAYOUT TABLE
610 PALETTE 255,63,63,63:PALETTE 254,63,63,21:PALETTE 253,63,21,63
620 PALETTE 252,63,21,21:PALETTE 251,63,0,0:PALETTE 250,21,63,21
630 PALETTE 249,63,40,0:PALETTE 248,55,35,0:PALETTE 247,44,12,16
640 PALETTE 246,42,0,42:PALETTE 245,53,53,0:PALETTE 244,44,44,44
650 PALETTE 243,0,0,63:PALETTE 242,0,40,0
660 PALETTE 241,0,0,45:PALETTE 240,0,0,50:PALETTE 239,0,0,55
670 RETURN
